<html><style type="text/css">
span.lineno { color: white; background: #aaaaaa; border-right: solid white 12px }
span.nottickedoff { background: yellow}
span.istickedoff { background: white }
span.tickonlyfalse { margin: -1px; border: 1px solid #f20913; background: #f20913 }
span.tickonlytrue  { margin: -1px; border: 1px solid #60de51; background: #60de51 }
span.funcount { font-size: small; color: orange; z-index: 2; position: absolute; right: 20 }
span.decl { font-weight: bold }
span.spaces    { background: white }
</style>
<pre>
<span class="lineno">    1 </span>{-|
<span class="lineno">    2 </span>
<span class="lineno">    3 </span>This module contains the core type definitions, class instances, and functions
<span class="lineno">    4 </span>for HTTP as well as the 'Snap' monad, which is used for web handlers.
<span class="lineno">    5 </span>
<span class="lineno">    6 </span>-}
<span class="lineno">    7 </span>module Snap.Core
<span class="lineno">    8 </span>  (
<span class="lineno">    9 </span>    -- * The Snap Monad
<span class="lineno">   10 </span>    Snap
<span class="lineno">   11 </span>  , runSnap
<span class="lineno">   12 </span>  , MonadSnap(..)
<span class="lineno">   13 </span>  , NoHandlerException(..)
<span class="lineno">   14 </span>
<span class="lineno">   15 </span>    -- ** Functions for control flow and early termination
<span class="lineno">   16 </span>  , bracketSnap
<span class="lineno">   17 </span>  , finishWith
<span class="lineno">   18 </span>  , catchFinishWith
<span class="lineno">   19 </span>  , pass
<span class="lineno">   20 </span>
<span class="lineno">   21 </span>    -- *** Escaping HTTP
<span class="lineno">   22 </span>  , EscapeHttpHandler
<span class="lineno">   23 </span>  , EscapeSnap(..)
<span class="lineno">   24 </span>  , escapeHttp
<span class="lineno">   25 </span>  , terminateConnection
<span class="lineno">   26 </span>
<span class="lineno">   27 </span>    -- ** Routing
<span class="lineno">   28 </span>  , method
<span class="lineno">   29 </span>  , methods
<span class="lineno">   30 </span>  , path
<span class="lineno">   31 </span>  , pathArg
<span class="lineno">   32 </span>  , dir
<span class="lineno">   33 </span>  , ifTop
<span class="lineno">   34 </span>  , route
<span class="lineno">   35 </span>  , routeLocal
<span class="lineno">   36 </span>
<span class="lineno">   37 </span>    -- ** Access to state
<span class="lineno">   38 </span>  , getRequest
<span class="lineno">   39 </span>  , getsRequest
<span class="lineno">   40 </span>  , getResponse
<span class="lineno">   41 </span>  , getsResponse
<span class="lineno">   42 </span>  , putRequest
<span class="lineno">   43 </span>  , putResponse
<span class="lineno">   44 </span>  , modifyRequest
<span class="lineno">   45 </span>  , modifyResponse
<span class="lineno">   46 </span>  , localRequest
<span class="lineno">   47 </span>  , withRequest
<span class="lineno">   48 </span>  , withResponse
<span class="lineno">   49 </span>
<span class="lineno">   50 </span>    -- ** Logging
<span class="lineno">   51 </span>  , logError
<span class="lineno">   52 </span>
<span class="lineno">   53 </span>    -- ** Grabbing/transforming request bodies
<span class="lineno">   54 </span>  , runRequestBody
<span class="lineno">   55 </span>  , readRequestBody
<span class="lineno">   56 </span>  , transformRequestBody
<span class="lineno">   57 </span>
<span class="lineno">   58 </span>    -- * HTTP Datatypes and Functions
<span class="lineno">   59 </span>    -- $httpDoc
<span class="lineno">   60 </span>    --
<span class="lineno">   61 </span>  , Request
<span class="lineno">   62 </span>  , Response
<span class="lineno">   63 </span>  , Headers
<span class="lineno">   64 </span>  , HasHeaders(..)
<span class="lineno">   65 </span>  , Params
<span class="lineno">   66 </span>  , Method(..)
<span class="lineno">   67 </span>  , Cookie(..)
<span class="lineno">   68 </span>  , HttpVersion
<span class="lineno">   69 </span>
<span class="lineno">   70 </span>    -- ** Headers
<span class="lineno">   71 </span>  , addHeader
<span class="lineno">   72 </span>  , setHeader
<span class="lineno">   73 </span>  , getHeader
<span class="lineno">   74 </span>  , listHeaders
<span class="lineno">   75 </span>  , deleteHeader
<span class="lineno">   76 </span>  , ipHeaderFilter
<span class="lineno">   77 </span>  , ipHeaderFilter'
<span class="lineno">   78 </span>
<span class="lineno">   79 </span>    -- ** Requests
<span class="lineno">   80 </span>  , rqHeaders
<span class="lineno">   81 </span>  , rqHostName
<span class="lineno">   82 </span>  , rqClientAddr
<span class="lineno">   83 </span>  , rqClientPort
<span class="lineno">   84 </span>  , rqServerAddr
<span class="lineno">   85 </span>  , rqServerPort
<span class="lineno">   86 </span>  , rqLocalHostname
<span class="lineno">   87 </span>  , rqIsSecure
<span class="lineno">   88 </span>  , rqContentLength
<span class="lineno">   89 </span>  , rqMethod
<span class="lineno">   90 </span>  , rqVersion
<span class="lineno">   91 </span>  , rqCookies
<span class="lineno">   92 </span>  , rqPathInfo
<span class="lineno">   93 </span>  , rqContextPath
<span class="lineno">   94 </span>  , rqURI
<span class="lineno">   95 </span>  , rqQueryString
<span class="lineno">   96 </span>  , rqParams
<span class="lineno">   97 </span>  , rqQueryParams
<span class="lineno">   98 </span>  , rqPostParams
<span class="lineno">   99 </span>  , rqParam
<span class="lineno">  100 </span>  , rqPostParam
<span class="lineno">  101 </span>  , rqQueryParam
<span class="lineno">  102 </span>  , getParam
<span class="lineno">  103 </span>  , getPostParam
<span class="lineno">  104 </span>  , getQueryParam
<span class="lineno">  105 </span>  , getParams
<span class="lineno">  106 </span>  , getPostParams
<span class="lineno">  107 </span>  , getQueryParams
<span class="lineno">  108 </span>  , rqModifyParams
<span class="lineno">  109 </span>  , rqSetParam
<span class="lineno">  110 </span>
<span class="lineno">  111 </span>    -- *** Deprecated functions
<span class="lineno">  112 </span>  , rqRemoteAddr
<span class="lineno">  113 </span>  , rqRemotePort
<span class="lineno">  114 </span>
<span class="lineno">  115 </span>    -- ** Responses
<span class="lineno">  116 </span>  , emptyResponse
<span class="lineno">  117 </span>  , setResponseCode
<span class="lineno">  118 </span>  , setResponseStatus
<span class="lineno">  119 </span>  , rspStatus
<span class="lineno">  120 </span>  , rspStatusReason
<span class="lineno">  121 </span>  , setContentType
<span class="lineno">  122 </span>  , addResponseCookie
<span class="lineno">  123 </span>  , getResponseCookie
<span class="lineno">  124 </span>  , getResponseCookies
<span class="lineno">  125 </span>  , deleteResponseCookie
<span class="lineno">  126 </span>  , modifyResponseCookie
<span class="lineno">  127 </span>  , expireCookie
<span class="lineno">  128 </span>  , getCookie
<span class="lineno">  129 </span>  , readCookie
<span class="lineno">  130 </span>  , setContentLength
<span class="lineno">  131 </span>  , clearContentLength
<span class="lineno">  132 </span>  , redirect
<span class="lineno">  133 </span>  , redirect'
<span class="lineno">  134 </span>
<span class="lineno">  135 </span>    -- *** Response I/O
<span class="lineno">  136 </span>  , setResponseBody
<span class="lineno">  137 </span>  , modifyResponseBody
<span class="lineno">  138 </span>  , addToOutput
<span class="lineno">  139 </span>  , writeBuilder
<span class="lineno">  140 </span>  , writeBS
<span class="lineno">  141 </span>  , writeLazyText
<span class="lineno">  142 </span>  , writeText
<span class="lineno">  143 </span>  , writeLBS
<span class="lineno">  144 </span>  , sendFile
<span class="lineno">  145 </span>  , sendFilePartial
<span class="lineno">  146 </span>
<span class="lineno">  147 </span>    -- ** Timeouts
<span class="lineno">  148 </span>  , setTimeout
<span class="lineno">  149 </span>  , extendTimeout
<span class="lineno">  150 </span>  , modifyTimeout
<span class="lineno">  151 </span>  , getTimeoutModifier
<span class="lineno">  152 </span>
<span class="lineno">  153 </span>    -- * HTTP utilities
<span class="lineno">  154 </span>  , formatHttpTime
<span class="lineno">  155 </span>  , parseHttpTime
<span class="lineno">  156 </span>  , parseUrlEncoded
<span class="lineno">  157 </span>  , buildUrlEncoded
<span class="lineno">  158 </span>  , printUrlEncoded
<span class="lineno">  159 </span>  , urlEncode
<span class="lineno">  160 </span>  , urlEncodeBuilder
<span class="lineno">  161 </span>  , urlDecode
<span class="lineno">  162 </span>  ) where
<span class="lineno">  163 </span>
<span class="lineno">  164 </span>------------------------------------------------------------------------------
<span class="lineno">  165 </span>import           Snap.Internal.Core       (EscapeHttpHandler, EscapeSnap (..), MonadSnap (..), NoHandlerException (..), Snap, addToOutput, bracketSnap, catchFinishWith, dir, escapeHttp, expireCookie, extendTimeout, finishWith, getCookie, getParam, getParams, getPostParam, getPostParams, getQueryParam, getQueryParams, getRequest, getResponse, getTimeoutModifier, getsRequest, getsResponse, ifTop, ipHeaderFilter, ipHeaderFilter', localRequest, logError, method, methods, modifyRequest, modifyResponse, modifyTimeout, pass, path, pathArg, putRequest, putResponse, readCookie, readRequestBody, redirect, redirect', runRequestBody, runSnap, sendFile, sendFilePartial, setTimeout, terminateConnection, transformRequestBody, withRequest, withResponse, writeBS, writeBuilder, writeLBS, writeLazyText, writeText)
<span class="lineno">  166 </span>import           Snap.Internal.Http.Types (Cookie (..), HasHeaders (..), HttpVersion, Method (..), Params, Request (rqClientAddr, rqClientPort, rqContentLength, rqContextPath, rqCookies, rqHeaders, rqHostName, rqIsSecure, rqLocalHostname, rqMethod, rqParams, rqPathInfo, rqPostParams, rqQueryParams, rqQueryString, rqServerAddr, rqServerPort, rqURI, rqVersion), Response (rspStatus, rspStatusReason), addHeader, addResponseCookie, clearContentLength, deleteHeader, deleteResponseCookie, emptyResponse, formatHttpTime, getHeader, getResponseCookie, getResponseCookies, listHeaders, modifyResponseBody, modifyResponseCookie, parseHttpTime, rqModifyParams, rqParam, rqPostParam, rqQueryParam, rqRemoteAddr, rqRemotePort, rqSetParam, setContentLength, setContentType, setHeader, setResponseBody, setResponseCode, setResponseStatus)
<span class="lineno">  167 </span>import           Snap.Internal.Instances  ()
<span class="lineno">  168 </span>import           Snap.Internal.Parsing    (buildUrlEncoded, parseUrlEncoded, printUrlEncoded, urlDecode, urlEncode, urlEncodeBuilder)
<span class="lineno">  169 </span>import           Snap.Internal.Routing    (route, routeLocal)
<span class="lineno">  170 </span>import           Snap.Types.Headers       (Headers)
<span class="lineno">  171 </span>------------------------------------------------------------------------------
<span class="lineno">  172 </span>
<span class="lineno">  173 </span>-- $httpDoc
<span class="lineno">  174 </span>-- HTTP-related datatypes: 'Request', 'Response', 'Cookie', etc.

</pre>
</html>
